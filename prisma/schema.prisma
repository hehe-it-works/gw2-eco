generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model items {
  item_id      Int            @id
  item_name    String?        @db.VarChar(100)
  recipe_items recipe_items[]
  recipes      recipes[]
}

model recipe_items {
  item_id    Int
  recipe_id  Int
  item_count Int?
  items      items   @relation(fields: [item_id], references: [item_id], onDelete: NoAction, onUpdate: NoAction)
  recipes    recipes @relation(fields: [recipe_id], references: [recipe_id], onDelete: NoAction, onUpdate: NoAction)

  @@id([item_id, recipe_id])
}

model recipes {
  recipe_name       String?        @db.VarChar(100)
  recipe_id         Int            @id
  recipe_type       String?        @db.VarChar(40)
  output_item_id    Int?
  output_item_count Int?
  recipe_items      recipe_items[]
  items             items?         @relation(fields: [output_item_id], references: [item_id], onDelete: NoAction, onUpdate: NoAction)
}
